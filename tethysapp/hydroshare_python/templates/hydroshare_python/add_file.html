{% extends "hydroshare_python/base.html" %}
{% load tethys_gizmos %}
{% load static %}

{% block app_content %}
  <h1 style="color:rgb(95, 4, 4);">Add file</h1>

  
  <p>This feature works smoothly without any glitches, just try copying the resource id from the HTTP hyperlink when you open your resource in Hydroshare.</p>
  <img src="{% static 'hydroshare_python/images/resourceid.jpeg'%}" alt="Resource ID" height="50">
  <p></p>
  <p>Like for example, this is an example hyperlink https://www.hydroshare.org/resource/08c6e88adaa647cd9bb28e5d619178e0/ from which the 32 letter combination at the end is called the resource id. And so the resource id from the example hyperlink is <mark>08c6e88adaa647cd9bb28e5d619178e0</mark> </p>
  
  <form id="add-dam-form" method="post" enctype="multipart/form-data">
    
    {% csrf_token %}


    {% gizmo username_input %}
    {% gizmo password_input %}
    
    {% gizmo resourcein_input %}
    <input id="add-file" type="file" name="addfile"/>
    

  </form>
  <button id="jsfile"><a id="jsfile" href="{% static 'hydroshare_python/js/addfile.js'%}" download>Download javaScript file</a></button>
  <p></p>
  <p>The code used to execute this functionality is displayed in the snippet below :</p>
  <pre class="line-numbers">
    <code class="language-python">
                auth = HydroShareAuthBasic(username= username, password= password)
                hs = HydroShare(auth=auth)
                fpath = temp_zip_path #'/Users/abu/Desktop/resources/nyu_2451_34514.shp.zip'
                resource_id = hs.addResourceFile(resourcein, fpath) #"remove_original_after_zip": True
                messages.error(request, "File added successfully")
            if has_errors:
                messages.error(request, "Please fix errors.")
    </code>
  </pre>

  
{% endblock %}

{% block app_actions %}
  {% gizmo cancel_button %}
  {% gizmo add_button %}
  {% endblock %}

  {% block scripts %}
  {{ block.super }}
  <script src="{% static 'hydroshare_python/js/addfile.js' %}" type="text/javascript"></script>
  {% endblock %}
